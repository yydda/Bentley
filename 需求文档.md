# 日记填写系统 - 需求文档

## 一、项目概述

### 1.1 项目背景
将现有的Markdown日记模版转换为交互式网页应用，优化用户体验，通过分步骤引导的方式帮助用户完成每日日记填写。

### 1.2 目标用户
个人用户（自己使用）

### 1.3 部署目标
GitHub Pages（静态网站托管）

### 1.4 技术要求
- PC端和H5端自适应
- 纯前端实现（无需后端）
- 数据本地存储（LocalStorage）
- 支持导出功能（可选）

---

## 二、功能需求分析

### 2.1 模版结构分析

#### 2.1.1 时间花销模块
**数据结构：**
- 副业：数字（小时）
- 对象：数字（小时）
- 主职：数字（小时）
- 娱乐+内耗：数字（小时）
- 通勤：数字（小时）
- 睡眠：数字（小时）
- 评分系统：💓💔（5个表情符号，可点击切换）
- 一句话评价：文本输入

**交互需求：**
- 时间输入框（数字输入，支持小数）
- 时间总和自动计算和验证（应接近24小时）
- 评分系统：点击表情符号切换状态（💓表示满意，💔表示不满意）
- 评价输入框（多行文本）

#### 2.1.2 LIFE（生活）模块
**数据结构：**
- 坚持天数：数字
- 习惯列表：多行文本（每行一个习惯）
- 内耗记录：可多个内耗主题
  - 每个内耗包含：
    - 标题：文本
    - 内耗的原因：文本
    - 想开了吗？：文本
    - 是否能进行解决？：文本
    - 权衡：文本（可选）
    - 结论：文本（可选）
- 浪费时间点：多行文本
- 反思与感悟：多行文本
- 明日计划：
  - 首要任务（MIT-1）：最多3项，每项文本
  - 待解决问题/新需求：多行文本

**交互需求：**
- 坚持天数：数字输入
- 习惯列表：动态添加/删除习惯项
- 内耗记录：支持添加多个内耗主题，每个主题可展开/折叠编辑
- 浪费时间点：多行文本输入
- 反思与感悟：多行文本输入
- 明日计划：首要任务最多3项，每项独立输入框；待解决问题为多行文本

#### 2.1.3 AM（工作）模块
**数据结构：**
- 项目进度：百分比（0-100）
- 时间追踪：数字（小时）
- 效率管理：数字（小时）
- 产出：多行文本（记录完成的功能模块、解决的bug数量等）
- 反思与感悟 知识库整理：多行文本
- 明日计划：
  - 首要任务（MIT-1）：最多3项
  - 待解决问题/新需求：多行文本

**交互需求：**
- 项目进度：滑块或数字输入（0-100）
- 时间追踪：数字输入（小时）
- 效率管理：数字输入（小时）
- 产出：多行文本输入
- 反思与感悟：多行文本输入
- 明日计划：同LIFE模块

#### 2.1.4 LOVE（情感）模块
**数据结构：**
- 新连接数：数字
- 有效互动量：数字
- 主动邀约/接受邀约次数：数字
- 记录：多行文本（强调过程体验和自我成长）
- 反思与感悟：多行文本
- 明日计划：
  - 首要任务（MIT-1）：最多3项
  - 待解决问题/新需求：多行文本

**交互需求：**
- 新连接数：数字输入
- 有效互动量：数字输入
- 主动邀约/接受邀约次数：数字输入
- 记录：多行文本输入（带提示文字）
- 反思与感悟：多行文本输入
- 明日计划：同LIFE模块

---

## 三、用户体验需求

### 3.1 填写流程设计

#### 3.1.1 分步骤引导
**建议流程：**
1. **时间花销** → 2. **LIFE** → 3. **AM** → 4. **LOVE**

**交互方式：**
- 采用步骤条（Stepper）或标签页（Tabs）导航
- 每个模块完成后显示完成状态
- 支持模块间跳转（不强制顺序）
- 显示整体完成进度

#### 3.1.2 填写指引
- 每个输入框提供清晰的标签和提示文字
- 重要字段标注必填（如时间花销）
- 提供示例或说明文字（如"此维度重在过程体验和自我成长，而非结果"）
- 实时保存（避免数据丢失）

### 3.2 界面设计要求

#### 3.2.1 布局
- **PC端：**
  - 侧边栏或顶部导航显示模块列表
  - 主内容区显示当前模块表单
  - 固定底部操作栏（保存、导出、返回等）
  
- **H5端：**
  - 顶部显示当前模块名称和进度
  - 全屏表单内容
  - 底部固定操作按钮
  - 支持滑动切换模块

#### 3.2.2 视觉设计
- 简洁、清爽的界面风格
- 清晰的视觉层次
- 良好的可读性（合适的字体大小、行距）
- 响应式设计，适配不同屏幕尺寸

#### 3.2.3 交互反馈
- 输入框聚焦高亮
- 保存成功提示
- 表单验证错误提示
- 加载状态提示

---

## 4. 功能需求详细说明

### 4.1 核心功能

#### 4.1.1 数据管理
- **本地存储：**
  - 使用LocalStorage存储每日日记数据
  - 数据格式：JSON
  - 存储结构：`{日期: {时间花销: {}, LIFE: {}, AM: {}, LOVE: {}}}`
  
- **日期管理：**
  - 默认显示今天的日期
  - 支持查看/编辑历史日期
  - 日期选择器（日历组件）

#### 4.1.2 数据验证
- 时间花销总和验证（提示是否接近24小时）
- 必填字段验证
- 数字输入格式验证

#### 4.1.3 数据导出
- 导出为Markdown格式（保持原模版格式）
- 导出为JSON格式（备份用）
- 导出为文本格式（可选）

### 4.2 辅助功能

#### 4.2.1 历史记录
- 查看历史日记列表
- 按日期搜索
- 快速跳转到某一天的日记

#### 4.2.2 数据统计（可选）
- 时间花销趋势图
- 习惯坚持天数统计
- 项目进度趋势

#### 4.2.3 设置功能（可选）
- 自定义习惯列表（预设）
- 自定义内耗主题模板
- 主题切换（深色/浅色）

---

## 5. 技术实现建议

### 5.1 技术栈推荐
- **框架：** Vue 3 / React / 原生JS（根据复杂度选择）
- **UI组件库：** Element Plus / Ant Design / 自定义（轻量级）
- **样式：** CSS3 / Tailwind CSS / Stylus
- **构建工具：** Vite / Webpack
- **路由：** Vue Router / React Router（如需要）

### 5.2 数据结构设计

```javascript
// 数据结构示例
{
  date: "2024-01-15",
  时间花销: {
    副业: 0,
    对象: 0,
    主职: 8,
    娱乐内耗: 9.5,
    通勤: 2.5,
    睡眠: 4,
    评分: ["💓", "💔", "💔", "💔", "💔"],
    评价: "没有专注于搞副业..."
  },
  LIFE: {
    坚持天数: 1,
    习惯: ["三省吾身", "回家就洗澡", ...],
    内耗: [
      {
        标题: "对相亲对象不满意",
        原因: "异地、没有那种恋爱的悸动...",
        想开了吗: "逸民发现我黑眼圈严重...",
        是否能解决: "发展兴趣爱好...",
        权衡: "",
        结论: ""
      }
    ],
    浪费时间点: "",
    反思与感悟: "",
    明日计划: {
      首要任务: ["", "", ""],
      待解决问题: ""
    }
  },
  AM: {
    项目进度: 0,
    时间追踪: 0,
    效率管理: 0,
    产出: "",
    反思与感悟: "",
    明日计划: {
      首要任务: ["", "", ""],
      待解决问题: ""
    }
  },
  LOVE: {
    新连接数: 0,
    有效互动量: 0,
    主动邀约次数: 0,
    记录: "",
    反思与感悟: "",
    明日计划: {
      首要任务: ["", "", ""],
      待解决问题: ""
    }
  }
}
```

### 5.3 部署方案
- 使用GitHub Pages托管
- 构建静态文件（HTML/CSS/JS）
- 配置GitHub Actions自动部署（可选）

---

## 6. 优先级划分

### P0（必须实现）
1. 四个模块的基础表单功能
2. 数据本地存储
3. 分步骤引导填写
4. PC和H5自适应布局
5. 数据导出为Markdown

### P1（重要功能）
1. 历史记录查看
2. 日期选择器
3. 数据验证和提示
4. 自动保存

### P2（增强功能）
1. 数据统计图表
2. 自定义模板
3. 主题切换
4. 数据导入功能

---

## 7. 用户体验优化建议

### 7.1 填写体验
- **渐进式填写：** 不强制一次性完成，支持分多次填写
- **智能提示：** 根据历史数据提供填写建议
- **快速输入：** 常用习惯、内耗主题可快速选择
- **草稿保存：** 未完成的日记自动保存为草稿

### 7.2 视觉体验
- **完成状态可视化：** 每个模块显示完成百分比
- **进度条：** 整体填写进度可视化
- **模块卡片化：** 每个模块使用卡片设计，清晰分隔

### 7.3 交互体验
- **键盘快捷键：** 支持Tab键切换，Enter提交等
- **手势支持：** H5端支持左右滑动切换模块
- **撤销重做：** 支持撤销最近的操作（可选）

---

## 8. 待确认问题

1. **数据持久化：** 是否需要云端同步？还是仅本地存储？
2. **多设备支持：** 是否需要支持多设备数据同步？
3. **数据隐私：** 是否需要数据加密？
4. **导出格式：** 除了Markdown，还需要其他格式吗？
5. **统计功能：** 是否需要数据分析和可视化？
6. **自定义功能：** 是否需要支持用户自定义模版结构？

---

## 9. 开发计划建议

### 阶段一：MVP（最小可行产品）
- 实现四个模块的基础表单
- 本地存储功能
- 基础的分步骤导航
- 简单的响应式布局

### 阶段二：功能完善
- 数据验证
- 历史记录查看
- Markdown导出
- 用户体验优化

### 阶段三：增强功能
- 数据统计
- 自定义功能
- 高级交互

---

## 10. 总结

本需求文档基于现有Markdown模版，旨在创建一个用户友好的日记填写系统。核心目标是：
1. **简化填写流程** - 通过分步骤引导降低填写难度
2. **提升用户体验** - 清晰的界面和流畅的交互
3. **数据管理** - 可靠的本地存储和导出功能
4. **跨平台支持** - PC和移动端都能良好使用

下一步：确认需求后，开始技术选型和详细设计。

